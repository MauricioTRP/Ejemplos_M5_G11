<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Consultorios</title>
</head>
<body>
  <script>
    /**
     * Constructor Pacientes
     * 
     * nombre, edad, rut, diagnÃ³stico
     */
    function Paciente(nombre, edad, rut, diagnostico) {
      let _nombre = nombre;
      let _edad = edad;
      let _rut = rut;
      let _diagnostico = diagnostico;

      Object.defineProperty(this, "_getNombre", {
        get: function() {
          return _nombre
        }
      })
      Object.defineProperty(this, "_setNombre", {
        set: function(nombre) {
          _nombre = nombre
        }
      })

      Object.defineProperties(this, {
        "_getEdad": {
          get: function() {
            return _edad
          }
        },
        "_setEdad": {
          set: function(edad) {
            _edad = edad
          }
        },
        "_getRut": {
          get: function() {
            return _rut
          }
        },
        "_setRut": {
          set: function(rut) {
            _rut = rut
          }
        },
        "_getDiagnostico": {
          get: function() {
            return _diagnostico
          }
        },
        "_setDiagnostico": {
          set: function(diagnostico) {
            _diagnostico = diagnostico
          }
        }
      })
    }

    Paciente.prototype.getNombre = function() {
      return this._getNombre;
    }
    Paciente.prototype.setNombre = function(nombre) {
      this._setNombre = nombre
    }
    
    Paciente.prototype.getEdad = function() {
      return this._getEdad;
    }
    Paciente.prototype.setEdad = function(edad) {
      this._setEdad = edad
    }
    
    Paciente.prototype.getRut = function() {
      return this._getRut;
    }
    Paciente.prototype.setRut = function(rut) {
      this._setRut = rut
    }
    
    Paciente.prototype.getDiagnostico = function() {
      return this._getDiagnostico;
    }
    Paciente.prototype.setDiagnostico = function(diagnostico) {
      this._setDiagnostico = diagnostico
    }

    /**
     * Constructor de consultorio
     * Nombre, pacientes []
     */
    function Consultorio(nombre, paciente) {
      let _nombre = nombre
      let _pacientes = []

      // Getter y Setter para nombre
      Object.defineProperty(this, "nombre", {
        get: function() {
          return _nombre;
        },
        set: function(nuevoNombre) {
          _nombre = nuevoNombre;
        }
      });

      Object.defineProperty(this, "_getPacientes", {
        get: function() {
          return _pacientes;
        }
      })

      Object.defineProperty(this, "_setPacientes", {
        set: function(paciente) {
          _pacientes.push(paciente)
        }
      })
    }
    
    Consultorio.prototype.getNombre = function() {
      return this.nombre
    }
    Consultorio.prototype.setNombre = function(nombre) {
      this.nombre = nombre;
    }
    Consultorio.prototype.getPacientes = function() {
      return this._getPacientes
    }
    Consultorio.prototype.setPacientes = function(paciente) {
      this._setPacientes = paciente
    }

    Consultorio.prototype.mostrarPacientes = function(paciente) {
      this._setPacientes = paciente
    }
    Consultorio.prototype.mostrarNombresPacientes = function() {
      return this.getPacientes().map(paciente => paciente.getNombre());
    }

    // Crear una instancia de Paciente
    let paciente1 = new Paciente('Simone Biles', 27, "18.537.987-1", "TDAH");
    let paciente2 = new Paciente('Rebecca Andrade', 25, "19.345.678-9", "Asma");
    let paciente3 = new Paciente('Francisca Crovetto', 34, "15.546.896-0", "Fractura radio mano izquierda");
    let paciente4 = new Paciente('Yasmani Acosta', 35, "21.567.213-6", "Epicondilitis");

    // Crear una instancia de Consultorio y agregar pacientes
    let consultorio = new Consultorio('Consultorio Miraflores');
    consultorio.setPacientes(paciente1);
    consultorio.setPacientes(paciente2);
    consultorio.setPacientes(paciente3);
    consultorio.setPacientes(paciente4);

    // Listar solo los nombres de los pacientes en el consultorio
    console.log(consultorio.mostrarNombresPacientes());
    
  </script>
</body>
</html>